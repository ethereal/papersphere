<% if @reading_list_paper.errors.empty? %>
  var commentsTable = $('.page-content').find('.comments-table');
  if (commentsTable.size() == 0) {
    $('#empty-table-msg').before("<%=j render 'comments', comments: @reading_list_paper.comments %>").remove();
  } else {
    $('.comments-table').prepend("<%=j render 'comment', comment: @reading_list_paper.comments.last %>");
  }
  $('.comment-form .comment-input').val('');
<% else %>
  $('div.alert-danger').removeClass('hidden');
  $('.alert-text').text("Can't submit an empty comment!");
<% end %>